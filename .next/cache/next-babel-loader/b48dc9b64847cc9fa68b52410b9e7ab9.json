{"ast":null,"code":"// gotten from https://github.com/codeashian/useInView\n// doesn't work in nextjs when you run build\nimport { useEffect, useState } from 'react';\nimport throttle from 'lodash.throttle';\n\nconst useInView = (offset = 0) => {\n  const {\n    0: ref,\n    1: setRef\n  } = useState(null);\n  const {\n    0: inView,\n    1: setInView\n  } = useState(false);\n  useEffect(() => {\n    const elementYPos = () => {\n      /* istanbul ignore next */\n      return ref.getBoundingClientRect().top + window.pageYOffset - window.innerHeight + offset;\n    };\n\n    if (!ref) {\n      return;\n    }\n    /* istanbul ignore next */\n\n\n    const handleScroll = throttle(() => {\n      if (!ref) {\n        return;\n      }\n\n      if (window.pageYOffset >= elementYPos()) {\n        window.removeEventListener('scroll', handleScroll);\n        setInView(true);\n      }\n    }, 200);\n    window.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    handleScroll();\n    /* istanbul ignore next */\n\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [ref, offset]);\n  return [setRef, inView];\n};\n\nexport default useInView;","map":null,"metadata":{},"sourceType":"module"}